# ë°ì´í„°ë² ì´ìŠ¤ ì •ê·œí™”(Database Normalization)

#### ì •ê·œí™”ë€?     

 ë°ì´í„°ì˜ ì¤‘ë³µì„ ì¤„ì´ê³  ë¬´ê²°ì„±ì„ í–¥ìƒ ì‹œí‚¤ëŠ” ë“± ì—¬ëŸ¬ ëª©ì ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì •ê·œí™”ëœ í˜•íƒœë¡œ ì¬ë””ìì¸í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.

#### ëª©ì 

- ë¶ˆí•„ìš”í•œ ë°ì´í„°ë¥¼ ì œê±°, ë°ì´í„°ì˜ ì¤‘ë³µì„ ìµœì†Œí™”
- ì‘ìš©í”„ë¡œê·¸ë¨ ë‹¨ì—ì„œ ë¶ˆí•„ìš”í•œ ë¡œì§ì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤.
- ë¶ˆí•„ìš”í•œ ì¿¼ë¦¬( ì˜ˆë¥¼ ë“¤ë©´, ì„œë¸Œì¿¼ë¦¬ ) ì œê±°ë¡œ ì„±ëŠ¥ í–¥ìƒ
- ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° í™•ì¥ ì‹œ ì¬ë””ìì¸ì„ ìµœì†Œí™”
- ë¬´ê²°ì„± ì œì•½ì¡°ê±´ì˜ ì‹œí–‰ì„ ê°„ë‹¨í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ
- ê°ì¢… [ì´ìƒ í˜„ìƒ(Anomaly)](https://wkdtjsgur100.github.io/anomaly) ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ, í…Œì´ë¸”ì˜ êµ¬ì„±ì„ ë…¼ë¦¬ì ì´ê³  ì§ê´€ì ìœ¼ë¡œ í•œë‹¤.

#### ì •ê·œí™”ì˜ ê³¼ì •

ì •ê·œí™”ëŠ” 1ì •ê·œí™” ~ 6ì •ê·œí™” ê¹Œì§€ ìˆì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ëŒ€ì²´ë¡œ 1~3 ì •ê·œí™”ê¹Œì§€ì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤.

- ##### ì œ 1ì •ê·œí™”(First Normal Form, 1NF)

  1. ì–´ë–¤ `Relation`ì— ì†í•œ ëª¨ë“  Domainì´ `ì›ìê°’(atomic value)`ë§Œìœ¼ë¡œ ë˜ì–´ ìˆë‹¤.

     - í•˜ë‚˜ì˜ ì»¬ëŸ¼ì€ ì›ìê°’(ì˜ë¯¸ê°€ ìˆëŠ” í•˜ë‚˜ì˜ ê°’)ë§Œìœ¼ë¡œ êµ¬ì„±ëœë‹¤.(ê°’ì„ ì—¬ëŸ¬ê°œ ì €ì¥X)

     - | ID   | ì´ë¦„    | ë‚˜ì´   | ì „í™”ë²ˆí˜¸                         |
       | ---- | ------- | ------ | -------------------------------- |
       | 111  | steve12 | 23     | 010-0000-0001, ~~031-0000-0000~~ |
       | 222  | tomaa   | b@b.kr | 010-0000-0002                    |
       | 333  | mary192 | c@c.kr | 010-0000-0003                    |

       ìœ„ì—ì„œ ìŠ¤í‹°ë¸ŒëŠ” ì „í™”ë²ˆí˜¸ë¥¼ 2ê°œ ì €ì¥í•˜ì˜€ìœ¼ë¯€ë¡œ ì¡°ê±´ì„ ìœ„ë°˜í•˜ì˜€ë‹¤.

  2. ëª¨ë“  attributeì— ë°˜ë³µë˜ëŠ” ê·¸ë£¹(repeating group)ì´ ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤.

     - `ì „í™”ë²ˆí˜¸1`, `ì „í™”ë²ˆí˜¸2`ì™€ ê°™ì´ í•˜ë‚˜ì˜ ì†ì„±ê·¸ë£¹ X

       | ID   | ìœ ì €ë„¤ì„ | ì´ë©”ì¼ | ì „í™”ë²ˆí˜¸1     | ~~ì „í™”ë²ˆí˜¸2~~     |
       | ---- | -------- | ------ | ------------- | ----------------- |
       | 111  | steve11  | a@a.kr | 010-0000-0001 | ~~031-0000-0000~~ |
       | 222  | tom11    | b@b.kr | 010-0000-0002 |                   |
       | 333  | mary11   | c@c.kr | 010-0000-0003 |                   |

  3. ê¸°ë³¸ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë ¨ ë°ì´í„°ì˜ ê° ì§‘í•©ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

     - ì¤‘ë³µëœ í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

       | ID      | FULL NAME | ì´ë©”ì¼ | ì „í™”ë²ˆí˜¸      |
       | ------- | --------- | ------ | ------------- |
       | 111     | ìŠ¤í‹°ë¸Œ    | a@a.kr | 010-0000-0001 |
       | ~~111~~ | steve11   | a@a.kr | 031-0000-0000 |
       | 222     | tom11     | b@b.kr | 010-0000-0002 |
       | 333     | mary11    | c@c.kr | 010-0000-0003 |

  4. ìœ„ì˜ ìƒí™©ì—ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©´ì„œ ì œ 1ì •ê·œí™”ë¥¼ ë§Œì¡±í•˜ëŠ” ë””ìì¸ì€ ì•„ë˜ì™€ ê°™ë‹¤.

     | ID   | ìœ ì €ë„¤ì„ | ì´ë©”ì¼ | ì „í™”ë²ˆí˜¸      |
     | ---- | -------- | ------ | ------------- |
     | 111  | steve11  | a@a.kr | 010-0000-0001 |
     | 222  | steve11  | a@a.kr | 031-0000-0000 |
     | 333  | tom11    | b@b.kr | 010-0000-0002 |
     | 444  | mary11   | c@c.kr | 010-0000-0003 |

  5. 

     | ID   | FULL NAME |
     | ---- | --------- |
     | 111  | ìŠ¤í‹°ë¸Œ    |
     | 222  | í†°        |
     | 333  | ë§ˆë¦¬      |

     | ID   | USER ID | ì „í™”ë²ˆí˜¸      |
     | ---- | ------- | ------------- |
     | 1    | 111     | 010-0000-0001 |
     | 2    | 111     | 031-0000-0000 |
     | 3    | 222     | 010-0000-0002 |
     | 4    | 333     | 010-0000-0003 |

- ##### ì œ 2 ì •ê·œí™”(2NF)

  1. ëª¨ë“  ì»¬ëŸ¼ì´ ì™„ì „ í•¨ìˆ˜ì  ì¢…ì†ì„ ë§Œì¡±í•œë‹¤.

     - ë‹¤ë¥¸ ë§ë¡œ ë¶€ë¶„ì  ì¢…ì†ì´ ì—†ì–´ì•¼ í•œë‹¤ëŠ” ë§.

     - ìœ„ì˜ ì œ 1ì •ê·œí™”ë¥¼ ë§Œì¡±í•˜ëŠ” í…Œì´ë¸”ì—ì„œ ìœ ì €ë„¤ì„ `steve11`ì˜ ì´ë©”ì¼ì€ `a@a.kr`ì´ë‹¤. ìœ ì €ë„¤ì„ë§Œ ìˆìœ¼ë©´ í•´ë‹¹í•˜ëŠ” ì´ë©”ì¼ì„ ì•Œ ìˆ˜ê°€ ìˆëŠ”ë°, ì´ë ‡ê²Œ íŠ¹ì • ì»¬ëŸ¼ì— ì¢…ì†ë˜ì–´ ìˆëŠ” ì»¬ëŸ¼ì´ ì—†ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

     - ì´ëŸ° ê²½ìš°ì—ëŠ” ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ë°ì´í„°ê°€ ì¡´ì¬í•˜ë©°, ì‹¬ì§€ì–´ `steve11`ì´ ë“±ë¡ëœ ìì‹ ì˜ ì´ë©”ì¼ì„ ë°”ê¾¸ë ¤ë©´ ë‘ê°œì˜ í…Œì´ë¸”ì—ì„œ ëª¨ë‘ ìˆ˜ì •í•´ì¤˜ì•¼ë§Œ í•œë‹¤.

     - ë”°ë¼ì„œ ì´ëŸ° ìƒí™©ì„ ì œê±° í•˜ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œ í…Œì´ë¸”ì„ ìª¼ê°œì—ˆë‹¤.

       | ID   | ìœ ì €ë„¤ì„ | ì´ë©”ì¼ |
       | ---- | -------- | ------ |
       | 111  | steve11  | a@a.kr |
       | 222  | tom11    | b@b.kr |
       | 333  | mary11   | c@c.kr |

       | ID   | USER ID | ì „í™”ë²ˆí˜¸      |
       | ---- | ------- | ------------- |
       | 1    | 111     | 010-0000-0001 |
       | 2    | 111     | 031-0000-0000 |
       | 3    | 222     | 010-0000-0002 |
       | 4    | 333     | 010-0000-0003 |

     - ì´ëŸ¬ë©´ ë‘ê°œì˜ í…Œì´ë¸” ëª¨ë‘ ì œ 1, 2 ì •ê·œí™”ë¥¼ ëª¨ë‘ ë§Œì¡±í•˜ê²Œ ë˜ë©°, ì¤‘ë³µë°ì´í„°ë¥¼ ë°©ì§€í•˜ê³  ìˆ˜ì •/ì‚­ì œê°€ ì‰½ë‹¤.

- ##### ì œ 3 ì •ê·œí™”(3NF)

  1. ê¸°ë³¸ í‚¤(PK / ID)ê°€ ì•„ë‹Œ ì†ì„±(attribute)ë“¤ì€ ê¸°ë³¸ í‚¤ì— ì´í–‰ì  í•¨ìˆ˜ì¢…ì†ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.

     - `A -> B`ì´ê³  `B -> C`ì´ë©´ `A -> C`ì˜ ê´€ê³„ê°€ ì„±ë¦½ë˜ëŠ” ê²ƒì„ ì´í–‰ì  í•¨ìˆ˜ ì¢…ì†(Transitive Functional Dependency)ë¼ê³  í•œë‹¤.

     - ì•„ë˜ì™€ ê°™ì€ `relation`ì´ ìˆë‹¤ê³  ê°€ì •í–ˆì„ë•Œ,

       | ì´ë¦„   | ë™ë¬¼ ë¶„ë¥˜ | ìƒë¬¼ ë¶„ë¥˜ |
       | ------ | --------- | --------- |
       | í˜¸ë‘ì´ | í¬ìœ ë¥˜    | ë™ë¬¼      |
       | ê°œ     | í¬ìœ ë¥˜    | ë™ë¬¼      |
       | ê°œêµ¬ë¦¬ | ì–‘ì„œë¥˜    | ë™ë¬¼      |
       | 4      | ê½ƒ        | ì‹ë¬¼      |

     - `í˜¸ë‘ì´ -> í¬ìœ ë¥˜`ì´ë©° `í¬ìœ ë¥˜->ë™ë¬¼`ì´ë‹¤. ë”°ë¼ì„œ `í˜¸ë‘ì´->ë™ë¬¼`ì˜ ê´€ê³„ê°€ ì„±ë¦½ë˜ê²Œ ëœë‹¤.

     - ë”°ë¼ì„œ ì œ 3ì •ê·œí™”ë¥¼ ì§€í‚¤ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ í…Œì´ë¸”ì„ ë¶„ë¦¬í•œë‹¤.

       | ì´ë¦„   | ë™ë¬¼ ë¶„ë¥˜'s ID |
       | ------ | -------------- |
       | í˜¸ë‘ì´ | 1              |
       | ê°œ     | 1              |
       | ê°œêµ¬ë¦¬ | 2              |
       | 4      | 3              |

       | ID   | ë™ë¬¼ ë¶„ë¥˜ | ìƒë¬¼ ë¶„ë¥˜ |
       | ---- | --------- | --------- |
       | 1    | í¬ìœ ë¥˜    | ë™ë¬¼      |
       | 2    | ì–‘ì„œë¥˜    | ë™ë¬¼      |
       | 3    | ê½ƒ        | ì‹ë¬¼      |

#### ì°¸ê³ 

> [ë°ì´í„°ë² ì´ìŠ¤ ì •ê·œí™” ê°œë… ì„¤ëª… ë° ì˜ˆì œ](https://wkdtjsgur100.github.io/database-normalization/)
>
> [ğŸ™ˆ[DBì´ë¡ \] ì •ê·œí™” ( Normalization )ğŸµ](https://victorydntmd.tistory.com/132)